<!DOCTYPE html>
<html ng-app="greenSpace">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>Green Space</title>
  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-route.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-animate.js"></script>

  <!-- angular files -->
  <script type="text/javascript" src="js/mainController.js"></script>
  <script type="text/javascript" src="js/userController.js"></script>
  <script type="text/javascript" src="js/userService.js"></script>
  <script type="text/javascript" src="js/authService.js"></script>
  <script type="text/javascript" src="js/angular-materialize.js"></script>
  <script type="text/javascript" src="app.routes.js"></script>
  <script type="text/javascript" src="app.js"></script>

</head>
<body ng-controller="mainController as main">
  <header class="navbar-fixed">
    <nav class="light-green accent-2" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="#/" class="brand-logo center">GreenSpace</a>
        <ul class="right hide-on-med-and-down">
          <li ng-if="main.loggedIn" class="navbar-text"><a href="#/me" class="chip waves-effect waves-light teal lighten-1" ><i class="material-icons">home</i>{{ main.user.email }}</a></li>
          <li ng-if="main.loggedIn"><a href="#" class="chip waves-effect waves-light lime darken-4" ng-click="main.doLogout()">Logout</a></li>
          <li ng-if="main.loggedIn"><a href="#/greens" class="chip waves-effect waves-light lime darken-4" >Greens</a></li>
          <li ng-if="!main.loggedIn"><a href="#login" class="chip waves-effect waves-light lime darken-4">Login</a></li>
        </ul>
        <ul id="nav-mobile" class="side-nav">
          <li ng-if="main.loggedIn"><a href="#" class="chip waves-effect waves-light teal lighten-1" ng-click="main.doLogout()">Logout</a></li>
          <li ng-if="!main.loggedIn"><a href="#login" class="chip waves-effect waves-light teal lighten-1">Login</a></li>
          <li ng-if="main.loggedIn" class="navbar-text"><a href="/me" class="chip waves-effect waves-light teal lighten-1" ><i class="material-icons">home</i>{{ main.user.email }}</a></li>
        </ul>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
      </div>
    </nav>
  </header>
  <main>
    <div ng-view></div>
  </main>
  <footer class="page-footer light-green accent-2">
    <div class="footer-copyright">
      <div class="container">
        Made by <a class="brown-text text-lighten-3">Elnaz Shahla</a>
      </div>
    </div>
  </footer>
  <div id="login" class="modal">
    <div class="modal-content">
      <form ng-submit="main.doLogin()">
        <div class="input-field ">
          <i class="material-icons prefix">email</i>
          <input id="icon_prefix" type="text" class="validate" ng-model="main.loginData.email">
          <label for="icon_prefix">email</label>
        </div>
        <div class="input-field ">
          <i class="material-icons prefix">lock</i>
          <input id="icon_lock" type="password" class="validate" ng-model="main.loginData.password">
          <label for="icon_lock">Password</label>
        </div>
        <div class="input-field modal-footer">
          <button type="submit" class="modal-action modal-close waves-effect waves-green btn-flat">
            Login
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="modal" id="signup" ng-controller="userCreateController as signup">
      <form class="col s12" ng-submit="signup.saveUser()">
        <div class="modal-content">
          <div class="input-field col s6">
            <input id="user_name" type="text" class="validate" ng-model="signup.user.username">
            <label for="user_name">Username</label>
          </div>
            <div class="input-field col s6">
              <input id="email" type="email" class="validate" ng-model="signup.user.email">
              <label for="email">Email</label>
            </div>
          <div class="input-field col s6">
            <input id="password" type="password" class="validate" ng-model="signup.user.password">
            <label for="password">Password</label>
          </div>
          <div class="input-field col s6">
            <button type="submit" name="button" class="modal-action modal-close waves-effect waves-green btn-flat">Submit</button>
          </div>
        </div>

      </form>
    </div>
</body>
</html>
